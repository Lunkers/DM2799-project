(this["webpackJsonpdm2799-project"]=this["webpackJsonpdm2799-project"]||[]).push([[0],{235:function(e,t,n){},338:function(e,t,n){},340:function(e,t,n){},736:function(e,t,n){},737:function(e,t,n){},738:function(e,t,n){},796:function(e,t,n){"use strict";n.r(t);var r=n(8),a=n(0),c=n.n(a),i=n(24),s=n.n(i),d=(n(338),n.p,n(9)),o=n(5),u={"Project Management":["Coordinated Meetings","Created Slides","Presented","Met with partners to discuss offers","Coordinated Communication","Managed the project"],Research:["Researched related work","Brainstorming","Researched Tools","Worked out the mathematics and statistics","Researched API to raw data"],"Data Management":["Gathered raw data","Processed raw data","Created data model"],Design:["Designed visual structures","Created visual designs and aestethics","Designed visual mappings","Designed view transformations"],Programming:["Created webpage","Programmed front end","Programmed back end","Maintained the Github repository"],Testing:["Tested visual structures","Tested view transformations"],"User Testing":["Recruited participants for user testing","Designed user tests","Executed user tests"]},l=n(48),j=n.n(l),b=n(30),h=c.a.createContext();var O=function(e){var t=Object(a.useState)([]),n=Object(o.a)(t,2),c=n[0],i=n[1],s=Object(a.useState)([]),u=Object(o.a)(s,2),l=u[0],O=u[1],f=Object(a.useState)(1),m=Object(o.a)(f,2),x=(m[0],m[1],{scheduled:c,reported:l,addScheduledTime:function(e){var t=e.map((function(e){return{hours:e.hours,task:e.task,quarters:4*e.hours}}));i(t)},addReportedTime:function(e){var t=e.map((function(e){var t=j()(e.startTime),n=j()(e.endTime),r=j.a.duration(n.diff(t)),a=Math.round(4*r.asHours());return e.quarters=a,e}));O(t)},removeScheduledTime:function(e){var t=e.id;i(c.filter((function(e){return!(e.id===t)})))},removeReportedTime:function(e){var t=e.startTime,n=e.endTime,r=e.task,a=t<n?[t,n]:[n,t],s=Object(o.a)(a,2);t=s[0],n=s[1],i(c.filter((function(e){return e.startTime===t&&e.endTime===n&&e.task===r})))},getReportedTimesBasedOnTask:function(){var e=b.rollup(l,(function(e){return b.sum(e,(function(e){return e.quarters}))}),(function(e){return e.task}));return console.log(e),e},getReportedAndScheduledReduced:function(){return{reported:{type:"Reported",quarters:b.sum(l,(function(e){return e.quarters}))},scheduled:{type:"Scheduled",quarters:b.sum(c,(function(e){return e.quarters}))}}},getTaskBasedScheduledAndReported:function(){var e=Object.fromEntries(b.rollup(c,(function(e){return b.sum(e,(function(e){return e.quarters}))}),(function(e){return e.task}))),t=Object.fromEntries(b.rollup(l,(function(e){return b.sum(e,(function(e){return e.quarters}))}),(function(e){return e.task}))),n=new Set([].concat(Object(d.a)(Object.keys(t)),Object(d.a)(Object.keys(e)))),r=Object(d.a)(n).map((function(n){return{task:n,reported:t[n]?t[n]:0,scheduled:e[n]?e[n]:0}}));return console.log(r),r}});return Object(r.jsx)(h.Provider,{value:x,children:e.children})},f=(n(340),n(4)),m=n(1),x=n(51),p=n(332),v=n(798),g=n(799),k=(n(235),n(802)),y=function(e){var t=e.addTime,n=e.task,c=e.inputHours,i=Object(a.useState)(c),s=Object(o.a)(i,2),d=s[0],u=s[1];return Object(r.jsxs)("div",{className:"schedule-task-container",children:[Object(r.jsx)("div",{children:n}),Object(r.jsx)("div",{children:Object(r.jsx)(k.a,{onChange:function(e){u(e.target.value),t(n,e.target.value)},min:0,defaultValue:d,style:{width:"5rem"}})})]})},T=n(805),S=n(806),w=function(){var e=Object(a.useContext)(h).scheduled,t=Object(a.useState)(e),n=Object(o.a)(t,2),c=n[0],i=n[1],s=Object(a.useState)(Object.keys(u).reduce((function(e,t){var n;return Object(m.a)(Object(m.a)({},e),{},(n={},Object(f.a)(n,t,!1),Object(f.a)(n,"Project Management",!0),n))}),{})),l=Object(o.a)(s,2),j=l[0],b=l[1],O=function(e,t){var n=c.findIndex((function(t){return t.task===e}));if(console.log(n),n>=0){var r=Object(m.a)(Object(m.a)({},c[n]),{},{hours:t}),a=Object(d.a)(c);a[n]=r,i(a)}else{var s={hours:t,task:e};i([].concat(Object(d.a)(c),[s]))}},k=function(e,t){var n=t.find((function(t){return t.task===e}));return n?n.hours:0};return Object(r.jsx)("div",{children:Object(r.jsxs)("div",{className:"container",children:[Object(r.jsxs)("div",{className:"schedule-container",children:[Object(r.jsx)("h1",{children:"Plan your learning for the week"}),Object(r.jsx)(h.Consumer,{children:function(e){var t=e.scheduled,n=e.addScheduledTime;e.removeScheduledTime;return Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"save-btn",children:Object(r.jsx)(x.a,{type:"primary",className:"save-btn",onClick:function(){p.b.success("Saved task planning!"),n(c)},children:"Save Planning"})}),Object(r.jsx)("div",{children:Object.keys(u).map((function(e){return Object(r.jsxs)("div",{className:"planner-container",children:[Object(r.jsxs)("div",{className:"category-name",onClick:function(){return b(Object(m.a)(Object(m.a)({},j),{},Object(f.a)({},e,!j[e])))},children:[Object(r.jsx)("h3",{children:e}),Object(r.jsx)("div",{children:j[e]?Object(r.jsx)(T.a,{}):Object(r.jsx)(S.a,{})})]}),j[e]&&Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:"schedule-task-container",children:[Object(r.jsx)("span",{children:Object(r.jsx)("strong",{children:"Task"})}),Object(r.jsx)("span",{children:Object(r.jsx)("strong",{children:"Estimated Time (Hours)"})})]}),u[e].map((function(e){return Object(r.jsx)(y,{addTime:O,task:e,inputHours:k(e,t)})}))]}),Object(r.jsx)(v.a,{})]})}))})]})}})]}),Object(r.jsxs)("div",{className:"deliverables-container",children:[Object(r.jsx)("h1",{children:"Course deliverables"}),Object(r.jsx)(g.a,{dataSource:[{key:"1",name:"Visualizing Group Matching",grade:"10%",type:"Individual",dueDate:"Jan 20"},{key:"2",name:"World values survey visualization",grade:"30%",type:"Individual",dueDate:"Jan 29"},{key:"3",name:"Project proposal",grade:"10%",type:"Group",dueDate:"Feb 8"},{key:"4",name:"Hello world demo",grade:"15%",type:"Group",dueDate:"Feb 14"}],columns:[{title:"Assignment",dataIndex:"name",key:"name"},{title:"Type",dataIndex:"type",key:"type"},{title:"Grade %",dataIndex:"grade",key:"grade"},{title:"Due date",dataIndex:"dueDate",key:"dueDate"}]})]})]})})};n(457);var C=Object.fromEntries(Object.entries(u).flatMap((function(e){var t=Object(o.a)(e,2),n=t[0];return t[1].map((function(e){return[e,n]}))}))),R=function(e){var t=e.widthHeightValue,n=void 0===t?300:t,c=e.data,i=50,s=n-0-0-i,d=n-i-0;c=(c=Array.from(c,(function(e){var t=Object(o.a)(e,2);return{key:t[0],value:t[1]}}))).map((function(e){var t={};return t.key=e.key,t.value=e.value,t.category=C[e.key],t})),console.log("testing data"),console.log(c);var u=c.reduce((function(e,t,n){return e[t.key]=n,e}),{});console.log("idmap"),console.log(u);var l=Object(a.useRef)(null);return Object(a.useEffect)((function(){if(c&&l.current){var e=Math.min(s,d)/2,t=b.scaleOrdinal(["#f7fbff","#f6faff","#f5fafe","#f5f9fe","#f4f9fe","#f3f8fe"]);b.select(l.current).selectAll("*").remove();var n=b.select(l.current).append("svg").attr("width",s).attr("height",d).append("g").attr("transform","translate("+s/2+","+d/2+")"),r=b.partition().size([2*Math.PI,e]),a=b.hierarchy({name:"TOPICS",children:[{name:"Topic A",children:[{name:"Sub A1",size:4},{name:"Sub A2",size:4}]},{name:"Topic B",children:[{name:"Sub B1",size:3},{name:"Sub B2",size:3},{name:"Sub B3",size:3}]},{name:"Topic C",children:[{name:"Sub A1",size:4},{name:"Sub A2",size:4}]}]}).sum((function(e){return e.size}));r(a);var i=b.arc().startAngle((function(e){return e.x0})).endAngle((function(e){return e.x1})).innerRadius((function(e){return e.y0})).outerRadius((function(e){return e.y1}));n.selectAll("path").data(a.descendants()).enter().append("path").attr("display",(function(e){return e.depth?null:"none"})).attr("d",i).style("stroke","#fff").style("fill",(function(e){return t((e.children?e:e.parent).data.name)}))}}),[c,l.current]),Object(r.jsx)("div",{id:"sunBurst",ref:l})},N=function(e){var t=e.data,n=(e.stacked,e.text,100),c=10,i=10,s=10,d=10,u=Object(a.useState)(""),l=Object(o.a)(u,2),j=(l[0],l[1],Object(a.useState)("")),h=Object(o.a)(j,2),O=(h[0],h[1],Object(a.useRef)(null));return Object(a.useEffect)((function(){if(t&&O.current){console.log(t);var e=t.scheduled,r=t.reported;b.select(O.current).selectAll("*").remove();var a=b.select(O.current).append("svg").attr("width",450).attr("height",n),o=b.scaleLinear().domain([0,b.max([e,r])+2]).range([c,450-i]);console.log(o.domain()[1]),console.log("drawing larger bar");a.append("rect").attr("class","background-rect").attr("x",o(o.domain()[0])).attr("y",s).attr("height",n-2*d-s).attr("width",o(o.domain()[1])).style("fill","#232931"),a.selectAll(null).data([r]).enter().append("rect").attr("x",o(o.domain()[0])).attr("y",s).attr("height",n-2*d-s).attr("width",(function(e){return o(e)})).style("fill","#A9D198");console.log(o(r));var u=b.axisBottom(o);console.log(o.ticks().map((function(e){return e/4}))),u.tickFormat((function(e){return e%4==0?e/4:""}));a.append("line").attr("x1",o(e)).attr("x2",o(e)).attr("y1",n-2*d).attr("y2",s).attr("stroke",(function(){return e>r?"red":"green"})).attr("stroke-width",2),a.append("g").attr("transform","translate(".concat(0,", ",n-2*d,")")).call(u)}}),[O.current]),Object(r.jsx)("div",{children:Object(r.jsx)("div",{className:"loadingBar",ref:O})})},A=(n(736),function(){return Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:"Visualizations"}),Object(r.jsx)(h.Consumer,{children:function(e){var t=e.scheduled,n=e.reported,a=e.getReportedTimesBasedOnTask,c=(e.getReportedAndScheduledReduced,e.getTaskBasedScheduledAndReported);return Object(r.jsx)(r.Fragment,{children:t.length>0&&n.length>0?Object(r.jsxs)("div",{className:"viz-container",children:[Object(r.jsx)("div",{className:"pie-container",children:Object(r.jsx)(R,{data:a()})}),Object(r.jsxs)("div",{className:"loading-container",children:[Object(r.jsx)("h2",{children:"Time worked (hours)"}),c().map((function(e){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("p",{children:Object(r.jsx)("strong",{children:e.task})}),Object(r.jsx)(N,{data:e}),Object(r.jsx)(v.a,{})]})}))]})]}):Object(r.jsx)("p",{children:"You need to schedule and report work to see charts!"})})}})]})}),D=n(803),z=n(801),I=n(800),P=n(110),B=n(804),M=n(231),H=n(807),q=n(808),F=n(809),E=(n(737),function(e){var t=e.onChange,n=e.question,c=e.score,i=Object(a.useState)(c),s=Object(o.a)(i,2),d=s[0],u=s[1];return Object(r.jsxs)("div",{className:"likert-container",children:[Object(r.jsx)("h3",{children:n}),Object(r.jsxs)("div",{className:"emoji-container",children:[Object(r.jsx)(H.a,{style:{fontSize:"2rem",color:-1===d?"#005ccc":"#000"},onClick:function(){t(-1),u(-1)}}),Object(r.jsx)(q.a,{style:{fontSize:"2rem",color:0===d?"#005ccc":"#000"},onClick:function(){t(0),u(0)}}),Object(r.jsx)(F.a,{style:{fontSize:"2rem",color:1===d?"#005ccc":"#000"},onClick:function(){t(1),u(1)}})]})]})}),G=(n(738),I.a.RangePicker),V=(P.a.SubMenu,function(e){var t=e.onTreeChange,n=e.value;return Object(r.jsx)(B.a,{style:{width:"100%"},onChange:function(e){return t(e)},value:n,children:Object.keys(u).map((function(e){return Object(r.jsx)(M.TreeNode,{value:e,title:e,selectable:!1,children:u[e].map((function(e){return Object(r.jsx)(M.TreeNode,{value:e,title:e})}))})}))})}),J=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(new Date),s=Object(o.a)(i,2),u=s[0],l=s[1],b=Object(a.useState)([]),O=Object(o.a)(b,2),f=O[0],g=O[1],k=Object(a.useState)(0),y=Object(o.a)(k,2),T=y[0],S=y[1],w=Object(a.useContext)(h),C=w.reported,R=w.addReportedTime,N=function(e){l(e.toDate()),c(!0)};Object(a.useEffect)((function(){var e=C.map((function(e,t){return Object(m.a)(Object(m.a)({},e),{},{id:t})}));S(C.length),g(e)}),[C]);var A=function(){R(f),p.b.success("Report was saved!"),g([]),c(!1)},I=function(){c(!1)},P=function(e,t){var n=j()(t);return e.filter((function(e){return null===e.startTime||j()(e.startTime).isSame(n,"day")}))},B=function(e){var t=P(Object(d.a)(f),e.toDate());return t.sort((function(e,t){return e.startTime-t.startTime})),Object(r.jsx)("ul",{className:"events",children:t.map((function(e){return Object(r.jsx)("li",{children:Object(r.jsx)("div",{style:{display:"block",backgroundColor:"green",color:"white",marginBottom:"0.05rem",borderRadius:"5%",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},children:"".concat(j()(e.startTime).format("HH:mm"),": ").concat(e.task)})})}))})};return Object(r.jsxs)("div",{className:"report-component-container",children:[Object(r.jsxs)("div",{className:"calendar-container",children:[Object(r.jsx)("h1",{children:"Time reporting"}),Object(r.jsx)("h3",{children:"Report your worked time here."}),Object(r.jsx)(h.Consumer,{children:function(e){e.reported,e.addReportedTime;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(D.a,{onSelect:N,dateCellRender:B}),Object(r.jsxs)(z.a,{visible:n,onCancel:I,onOk:A,children:[Object(r.jsx)("h2",{children:u.toLocaleDateString()}),P(Object(d.a)(f),u).map((function(e){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(G,{format:"HH:mm",style:{width:"100%"},onChange:function(t,n){return function(e,t,n){var r=f.findIndex((function(t){return t.id===e})),a=Object(m.a)(Object(m.a)({},f[r]),{},{startTime:t,endTime:n}),c=Object(d.a)(f);c[r]=a,g(c)}(e.id,t[0].toDate(),t[1].toDate())},value:[j()(e.startTime),j()(e.endTime)]}),Object(r.jsx)(V,{onTreeChange:function(t){return function(e,t){var n=f.findIndex((function(t){return t.id===e})),r=Object(m.a)(Object(m.a)({},f[n]),{},{task:t}),a=Object(d.a)(f);a[n]=r,g(a)}(e.id,t)},value:e.task}),Object(r.jsx)(v.a,{}),Object(r.jsx)(E,{question:"How did it go?",onChange:function(t){return function(e,t){var n=f.findIndex((function(t){return t.id===e})),r=Object(m.a)(Object(m.a)({},f[n]),{},{score:t}),a=Object(d.a)(f);a[n]=r,g(a)}(e.id,t)},score:e.score}),Object(r.jsx)(v.a,{})]})})),Object(r.jsx)(x.a,{onClick:function(){return e=u,g([].concat(Object(d.a)(f),[{id:T+1,startTime:e,endTime:e}])),void S(T+1);var e},children:"Add task"})]})]})}})]}),Object(r.jsx)(v.a,{type:"vertical",className:"vert-divider"}),Object(r.jsxs)("div",{className:"report-info",children:[Object(r.jsx)("h1",{children:"How to use:"}),Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:"Click on a date in the calendar"}),Object(r.jsx)("li",{children:"Report what times you worked on different learning tasks"}),Object(r.jsx)("li",{children:'Click "Ok" to save your report'})]})]})]})},L=n(128),W=n(42);var K=function(){return Object(r.jsx)(L.a,{basename:"/",children:Object(r.jsx)(O,{children:Object(r.jsx)("div",{className:"App",children:Object(r.jsxs)("div",{className:"app-container",children:[Object(r.jsxs)("div",{className:"sidebar",children:[Object(r.jsx)("h1",{children:"Time reporter"}),Object(r.jsxs)(P.a,{mode:"inline",defaultSelectedKeys:["1"],children:[Object(r.jsx)(P.a.Item,{children:Object(r.jsx)(L.b,{to:"/schedule",children:"Plan work"})},"1"),Object(r.jsx)(P.a.Item,{children:Object(r.jsx)(L.b,{to:"/report",children:"Report time worked"})},"2"),Object(r.jsx)(P.a.Item,{children:Object(r.jsx)(L.b,{to:"/viz",children:"Visualizations"})},"3")]})]}),Object(r.jsx)("div",{className:"main-content",children:Object(r.jsxs)(W.c,{children:[Object(r.jsx)(W.a,{path:"/schedule",children:Object(r.jsx)(w,{})}),Object(r.jsx)(W.a,{path:"/viz",children:Object(r.jsx)(A,{})}),Object(r.jsx)(W.a,{path:"/report",children:Object(r.jsx)(J,{})}),Object(r.jsxs)(W.a,{path:"/",children:[Object(r.jsx)(w,{})," "]})]})})]})})})})},U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,810)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};s.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(K,{})}),document.getElementById("root")),U()}},[[796,1,2]]]);
//# sourceMappingURL=main.9e63de99.chunk.js.map