(this["webpackJsonpdm2799-project"]=this["webpackJsonpdm2799-project"]||[]).push([[0],{235:function(e,t,n){},336:function(e,t,n){},338:function(e,t,n){},728:function(e,t,n){},729:function(e,t,n){},793:function(e,t,n){"use strict";n.r(t);var r=n(8),a=n(0),c=n.n(a),i=n(23),s=n.n(i),d=(n(336),n.p,n(9)),u=n(5),o={Design:["Designed visual structures","Created visual designs and aestethics","Designed visual mappings","Designed view transformations"],Programming:["Created webpage","Programmed front end","Programmed back end","Processed raw data"]},l=n(48),j=n.n(l),b=n(37),h=c.a.createContext();var O=function(e){var t=Object(a.useState)([]),n=Object(u.a)(t,2),c=n[0],i=n[1],s=Object(a.useState)([]),o=Object(u.a)(s,2),l=o[0],O=o[1],m=Object(a.useState)(1),f=Object(u.a)(m,2),x=(f[0],f[1],{scheduled:c,reported:l,addScheduledTime:function(e){var t=e.map((function(e){return{hours:e.hours,task:e.task,quarters:4*e.hours}}));i(t)},addReportedTime:function(e){var t=e.map((function(e){var t=j()(e.startTime),n=j()(e.endTime),r=j.a.duration(n.diff(t)),a=Math.round(4*r.asHours());return e.quarters=a,e}));console.log(t),O([].concat(Object(d.a)(l),Object(d.a)(e)))},removeScheduledTime:function(e){var t=e.id;i(c.filter((function(e){return!(e.id===t)})))},removeReportedTime:function(e){var t=e.startTime,n=e.endTime,r=e.task,a=t<n?[t,n]:[n,t],s=Object(u.a)(a,2);t=s[0],n=s[1],i(c.filter((function(e){return e.startTime===t&&e.endTime===n&&e.task===r})))},getReportedTimesBasedOnTask:function(){var e=b.rollup(l,(function(e){return b.sum(e,(function(e){return e.quarters}))}),(function(e){return e.task}));return console.log(e),e},getReportedAndScheduledReduced:function(){return[{type:"Reported",quarters:b.sum(l,(function(e){return e.quarters}))},{type:"Scheduled",quarters:b.sum(c,(function(e){return e.quarters}))}]}});return Object(r.jsx)(h.Provider,{value:x,children:e.children})},m=(n(338),n(4)),f=n(1),x=n(796),v=n(51),p=n(797),g=(n(235),n(800)),k=function(e){var t=e.addTime,n=e.task,c=e.inputHours,i=Object(a.useState)(c),s=Object(u.a)(i,2),d=s[0],o=s[1];return Object(r.jsxs)("div",{className:"schedule-task-container",children:[Object(r.jsx)("div",{children:n}),Object(r.jsx)("div",{children:Object(r.jsx)(g.a,{onChange:function(e){o(e.target.value),t(n,e.target.value)},min:0,defaultValue:d,style:{width:"5rem"}})})]})},y=n(803),T=n(804),w=function(){var e=Object(a.useContext)(h).scheduled,t=Object(a.useState)(e),n=Object(u.a)(t,2),c=n[0],i=n[1],s=Object(a.useState)(Object.keys(o).reduce((function(e,t){return Object(f.a)(Object(f.a)({},e),{},Object(m.a)({},t,!1))}),{})),l=Object(u.a)(s,2),j=l[0],b=l[1],O=function(e,t){var n=c.findIndex((function(t){return t.task===e}));if(console.log(n),n>=0){var r=Object(f.a)(Object(f.a)({},c[n]),{},{hours:t}),a=Object(d.a)(c);a[n]=r,i(a)}else{var s={hours:t,task:e};i([].concat(Object(d.a)(c),[s]))}},g=function(e,t){var n=t.find((function(t){return t.task===e}));return n?n.hours:0};return Object(r.jsx)("div",{children:Object(r.jsxs)("div",{className:"container",children:[Object(r.jsxs)("div",{className:"schedule-container",children:[Object(r.jsx)("h3",{children:"Plan your learning for the week"}),Object(r.jsx)(h.Consumer,{children:function(e){var t=e.scheduled,n=e.addScheduledTime;e.removeScheduledTime;return Object(r.jsx)("div",{children:Object(r.jsxs)("div",{children:[Object.keys(o).map((function(e){return Object(r.jsxs)("div",{className:"planner-container",children:[Object(r.jsxs)("div",{className:"category-name",onClick:function(){return b(Object(f.a)(Object(f.a)({},j),{},Object(m.a)({},e,!j[e])))},children:[Object(r.jsx)("h2",{children:e}),Object(r.jsx)("div",{children:j[e]?Object(r.jsx)(y.a,{}):Object(r.jsx)(T.a,{})})]}),j[e]&&Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:"schedule-task-container",children:[Object(r.jsx)("span",{children:Object(r.jsx)("strong",{children:"Task"})}),Object(r.jsx)("span",{children:Object(r.jsx)("strong",{children:"Planned Time (Hours)"})})]}),o[e].map((function(e){return Object(r.jsx)(k,{addTime:O,task:e,inputHours:g(e,t)})}))]}),Object(r.jsx)(x.a,{})]})})),Object(r.jsx)(v.a,{type:"primary",onClick:function(){return n(c)},children:"Save Planning"})]})})}})]}),Object(r.jsxs)("div",{className:"deliverables-container",children:[Object(r.jsx)("h3",{children:"Course assignments"}),Object(r.jsx)(p.a,{dataSource:[{key:"1",name:"Visualizing Group Matching",grade:"10%",type:"Individual",dueDate:"Jan 20"},{key:"2",name:"World values survey visualization",grade:"30%",type:"Individual",dueDate:"Jan 29"},{key:"3",name:"Project proposal",grade:"10%",type:"Group",dueDate:"Feb 8"},{key:"4",name:"Hello world demo",grade:"15%",type:"Group",dueDate:"Feb 14"}],columns:[{title:"Assignment",dataIndex:"name",key:"name"},{title:"Type",dataIndex:"type",key:"type"},{title:"Grade %",dataIndex:"grade",key:"grade"},{title:"Due date",dataIndex:"dueDate",key:"dueDate"}]})]})]})})};n(449);var S=function(e){var t=e.widthHeightValue,n=void 0===t?300:t,c=e.data,i=50,s=n-0-0-i,d=n-i-0,o=Object(a.useRef)(null);return Object(a.useEffect)((function(){if(c&&o.current){c=Array.from(c,(function(e){var t=Object(u.a)(e,2);return{key:t[0],value:t[1]}}));var e=Math.min(s,d)/2;b.select(o.current).selectAll("*").remove();var t=b.select(o.current).append("svg").attr("width",s).attr("height",d).append("g").attr("transform","translate("+s/2+","+d/2+")"),n=b.scaleOrdinal().domain(c.map((function(e){return e.key}))).range(["#204051","#3B5070","#675C88","#996694","#C97190","#ED8382","#FFA06F"]),r=b.pie().value((function(e){return e.value})),a=b.arc().innerRadius(0).outerRadius(e),i=r(c),l=t.selectAll("path").data(i).join("path").attr("fill",(function(e){return n(e.key)})).attr("stroke","white").attr("d",a),j=b.arc().innerRadius(2*e/3).outerRadius(e);l.append("text").attr("transform",(function(e){return"translate("+j.centroid(e)+")"})).attr("text-anchor","middle").attr("fill","white").text((function(e){return e.key}))}}),[c,o.current]),Object(r.jsx)("div",{id:"sunBurst",ref:o})},C=function(e){var t=e.data,n=(e.stacked,e.text,10),c=10,i=5,s=Object(a.useState)(""),d=Object(u.a)(s,2),o=d[0],l=d[1],j=Object(a.useState)(""),h=Object(u.a)(j,2),O=h[0],m=h[1],f=Object(a.useRef)(null);return Object(a.useEffect)((function(){if(t&&f.current){console.log("drawing bar chart"),t.sort((function(e,t){return t.quarters-e.quarters}));var e=[t[0]];m(t[0].type),l(t[1].type);var r=[t[1]];b.select(f.current).selectAll("*").remove();var a=b.select(f.current).append("svg").attr("width",450).attr("height",80),s=b.scaleLinear().domain([0,b.max(t,(function(e){return e.quarters}))]).range([n,450-c]);console.log("drawing larger bar");a.selectAll(null).data(e).enter().append("rect").attr("x",n).attr("y",i).attr("height",75).attr("width",(function(e){return s(e.quarters)})).attr("rx",5).attr("ry",5).style("fill","#232931"),a.selectAll(null).data(r).enter().append("rect").attr("x",n).attr("y",i).attr("height",75).attr("width",(function(e){return s(e.quarters)})).attr("rx",5).attr("ry",5).style("fill","#67A890");console.log("finished drawing"),console.log("finished drawing")}}),[f.current]),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"loadingBar",ref:f}),Object(r.jsxs)("p",{children:[o," / ",O]})]})},N=(n(728),function(){return Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"Visualizations"}),Object(r.jsx)(h.Consumer,{children:function(e){var t=e.scheduled,n=e.reported,a=e.getReportedTimesBasedOnTask,c=e.getReportedAndScheduledReduced;return Object(r.jsx)(r.Fragment,{children:t.length>0&&n.length>0?Object(r.jsxs)("div",{className:"viz-container",children:[Object(r.jsx)("div",{className:"pie-container",children:Object(r.jsx)(S,{data:a()})}),Object(r.jsx)("div",{className:"loading-container",children:Object(r.jsx)(C,{data:c()})})]}):Object(r.jsx)("p",{children:"You need to schedule and report work to see charts!"})})}})]})}),R=n(801),D=n(799),I=n(798),A=n(110),q=n(802),F=n(231),P=n(42),H=(n(729),I.a.RangePicker),B=(A.a.SubMenu,function(e){var t=e.onTreeChange,n=e.value;return Object(r.jsx)(q.a,{style:{width:"100%"},onChange:function(e){return t(e)},value:n,children:Object.keys(o).map((function(e){return Object(r.jsx)(F.TreeNode,{value:e,title:e,selectable:!1,children:o[e].map((function(e){return Object(r.jsx)(F.TreeNode,{value:e,title:e})}))})}))})}),z=function(){var e=Object(a.useState)(!1),t=Object(u.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(new Date),s=Object(u.a)(i,2),o=s[0],l=s[1],b=Object(a.useState)([]),O=Object(u.a)(b,2),m=O[0],p=O[1],g=Object(a.useState)(0),k=Object(u.a)(g,2),y=k[0],T=k[1],w=Object(a.useContext)(h).reported,S=function(e){l(e.toDate()),c(!0)},C=function(){c(!1)},N=function(){c(!1)},I=function(e,t){var n=j()(t);return e.filter((function(e){return null===e.startTime||j()(e.startTime).isSame(n,"day")}))},A=function(e){var t=I([].concat(Object(d.a)(w),Object(d.a)(m)),e.toDate());return t.sort((function(e,t){return e.startTime-t.startTime})),Object(r.jsx)("ul",{className:"events",children:t.map((function(e){return Object(r.jsx)("li",{children:Object(r.jsx)("div",{style:{display:"block",backgroundColor:"green",color:"white",marginBottom:"0.05rem",borderRadius:"5%",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},children:"".concat(j()(e.startTime).format("HH:mm"),": ").concat(e.task)})})}))})};return Object(r.jsx)("div",{children:Object(r.jsxs)("div",{className:"calendar-container",children:[Object(r.jsx)("h3",{children:"This is where you report time worked"}),Object(r.jsx)(P.a,{when:m.length>0,message:"You have unsaved changes! Are you sure you want to leave?"}),Object(r.jsx)(h.Consumer,{children:function(e){var t=e.reported,a=e.addReportedTime;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(R.a,{onSelect:S,dateCellRender:A}),Object(r.jsxs)(D.a,{visible:n,onCancel:N,onOk:C,children:[Object(r.jsx)("h2",{children:o.toLocaleDateString()}),I([].concat(Object(d.a)(t),Object(d.a)(m)),o).map((function(e){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(H,{format:"HH:mm",style:{width:"100%"},onChange:function(t,n){return function(e,t,n){var r=m.findIndex((function(t){return t.id===e})),a=Object(f.a)(Object(f.a)({},m[r]),{},{startTime:t,endTime:n}),c=Object(d.a)(m);c[r]=a,p(c)}(e.id,t[0].toDate(),t[1].toDate())},value:e.startTime?[j()(e.startTime),j()(e.endTime)]:[null,null]}),Object(r.jsx)(B,{onTreeChange:function(t){return function(e,t){var n=m.findIndex((function(t){return t.id===e})),r=Object(f.a)(Object(f.a)({},m[n]),{},{task:t}),a=Object(d.a)(m);a[n]=r,p(a)}(e.id,t)},value:e.task}),Object(r.jsx)(x.a,{})]})})),Object(r.jsx)(v.a,{onClick:function(){return e=o,p([].concat(Object(d.a)(m),[{id:y+1,startTime:e,endTime:e}])),void T(y+1);var e},children:"Add task"})]}),Object(r.jsx)(v.a,{className:"fixed-button",type:"primary",onClick:function(){a(m),p([])},children:"Save report"})]})}})]})})},M=n(109);var V=function(){return Object(r.jsx)(M.a,{basename:"/",children:Object(r.jsx)(O,{children:Object(r.jsx)("div",{className:"App",children:Object(r.jsxs)("div",{className:"app-container",children:[Object(r.jsxs)("div",{className:"sidebar",children:[Object(r.jsx)("h2",{children:"Time reporter"}),Object(r.jsxs)(A.a,{mode:"inline",style:{height:"100%"},children:[Object(r.jsx)(A.a.Item,{children:Object(r.jsx)(M.b,{to:"/",children:"Home"})},"1"),Object(r.jsx)(A.a.Item,{children:Object(r.jsx)(M.b,{to:"/schedule",children:"Schedule"})}),Object(r.jsx)(A.a.Item,{children:Object(r.jsx)(M.b,{to:"/report",children:"Report time worked"})}),Object(r.jsx)(A.a.Item,{children:Object(r.jsx)(M.b,{to:"/viz",children:"Visualizations"})})]})]}),Object(r.jsx)("div",{className:"main-content",children:Object(r.jsxs)(P.d,{children:[Object(r.jsx)(P.b,{path:"/schedule",children:Object(r.jsx)(w,{})}),Object(r.jsx)(P.b,{path:"/viz",children:Object(r.jsx)(N,{})}),Object(r.jsx)(P.b,{path:"/report",children:Object(r.jsx)(z,{})}),Object(r.jsxs)(P.b,{path:"/",children:[Object(r.jsx)(w,{})," "]})]})})]})})})})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,805)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};s.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(V,{})}),document.getElementById("root")),E()}},[[793,1,2]]]);
//# sourceMappingURL=main.1a6af20f.chunk.js.map