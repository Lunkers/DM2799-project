(this["webpackJsonpdm2799-project"]=this["webpackJsonpdm2799-project"]||[]).push([[0],{235:function(e,t,n){},338:function(e,t,n){},340:function(e,t,n){},736:function(e,t,n){},737:function(e,t,n){},738:function(e,t,n){},796:function(e,t,n){"use strict";n.r(t);var r=n(8),a=n(0),c=n.n(a),s=n(25),i=n.n(s),d=(n(338),n.p,n(9)),o=n(5),u={"Project Management":["Coordinated Meetings","Created Slides","Presented","Met with partners to discuss offers","Coordinated Communication","Managed the project"],Research:["Researched related work","Brainstorming","Researched Tools","Worked out the mathematics and statistics","Researched API to raw data"],"Data Management":["Gathered raw data","Processed raw data","Created data model"],Design:["Designed visual structures","Created visual designs and aestethics","Designed visual mappings","Designed view transformations"],Programming:["Created webpage","Programmed front end","Programmed back end","Maintained the Github repository"],Testing:["Tested visual structures","Tested view transformations"],"User Testing":["Recruited participants for user testing","Designed user tests","Executed user tests"]},l=n(48),j=n.n(l),h=n(21),b=c.a.createContext();var O=function(e){var t=Object(a.useState)([]),n=Object(o.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)([]),l=Object(o.a)(i,2),O=l[0],m=l[1],f=Object(a.useState)(1),x=Object(o.a)(f,2),p=(x[0],x[1],{scheduled:c,reported:O,addScheduledTime:function(e){var t=e.map((function(e){return{hours:e.hours,task:e.task,quarters:4*e.hours}}));s(t)},addReportedTime:function(e){var t=e.map((function(e){var t=j()(e.startTime),n=j()(e.endTime),r=j.a.duration(n.diff(t)),a=Math.round(4*r.asHours());return e.quarters=a,e}));m(t)},removeScheduledTime:function(e){var t=e.id;s(c.filter((function(e){return!(e.id===t)})))},removeReportedTime:function(e){var t=e.startTime,n=e.endTime,r=e.task,a=t<n?[t,n]:[n,t],i=Object(o.a)(a,2);t=i[0],n=i[1],s(c.filter((function(e){return e.startTime===t&&e.endTime===n&&e.task===r})))},getReportedTimesBasedOnTask:function(){var e=h.rollup(O,(function(e){return h.sum(e,(function(e){return e.quarters}))}),(function(e){return e.task}));return console.log(e),e},getReportedAndScheduledReduced:function(){return{reported:{type:"Reported",quarters:h.sum(O,(function(e){return e.quarters}))},scheduled:{type:"Scheduled",quarters:h.sum(c,(function(e){return e.quarters}))}}},getTaskBasedScheduledAndReported:function(){var e=Object.fromEntries(h.rollup(c,(function(e){return h.sum(e,(function(e){return e.quarters}))}),(function(e){return e.task}))),t=Object.fromEntries(h.rollup(O,(function(e){return h.sum(e,(function(e){return e.quarters}))}),(function(e){return e.task}))),n=new Set([].concat(Object(d.a)(Object.keys(t)),Object(d.a)(Object.keys(e))));return Object(d.a)(n).map((function(n){return{task:n,reported:t[n]?t[n]:0,scheduled:e[n]?e[n]:0}}))},getCategoryGroupedTaskTimes:function(){var e={name:"categories",children:[]},t=Object.keys(u),n=Object.fromEntries(h.rollup(O,(function(e){return h.sum(e,(function(e){return e.quarters}))}),(function(e){return e.task}))),r=Object.keys(n).map((function(e){return{name:e,value:n[e],children:[]}}));return t.map((function(t){var n=u[t],a=r.filter((function(e){return n.includes(e.name)})),c={name:t,children:a};console.log(a),c.children.length>0&&(e.children=[].concat(Object(d.a)(e.children),[c]))})),console.log(e),e}});return Object(r.jsx)(b.Provider,{value:p,children:e.children})},m=(n(340),n(4)),f=n(1),x=n(51),p=n(332),v=n(798),g=n(799),k=(n(235),n(802)),y=function(e){var t=e.addTime,n=e.task,c=e.inputHours,s=Object(a.useState)(c),i=Object(o.a)(s,2),d=i[0],u=i[1];return Object(r.jsxs)("div",{className:"schedule-task-container",children:[Object(r.jsx)("div",{children:n}),Object(r.jsx)("div",{children:Object(r.jsx)(k.a,{onChange:function(e){u(e.target.value),t(n,e.target.value)},min:0,defaultValue:d,style:{width:"5rem"}})})]})},T=n(805),w=n(806),C=function(){var e=Object(a.useContext)(b).scheduled,t=Object(a.useState)(e),n=Object(o.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(Object.keys(u).reduce((function(e,t){var n;return Object(f.a)(Object(f.a)({},e),{},(n={},Object(m.a)(n,t,!1),Object(m.a)(n,"Project Management",!0),n))}),{})),l=Object(o.a)(i,2),j=l[0],h=l[1];Object(a.useEffect)((function(){s(e)}),[e]);var O=function(e,t){var n=c.findIndex((function(t){return t.task===e}));if(console.log(n),n>=0){var r=Object(f.a)(Object(f.a)({},c[n]),{},{hours:t}),a=Object(d.a)(c);a[n]=r,s(a)}else{var i={hours:t,task:e};s([].concat(Object(d.a)(c),[i]))}},k=function(e,t){var n=t.find((function(t){return t.task===e}));return n?n.hours:0};return Object(r.jsx)("div",{children:Object(r.jsxs)("div",{className:"container",children:[Object(r.jsxs)("div",{className:"schedule-container",children:[Object(r.jsx)("h1",{children:"Which tasks will you work on this week?"}),Object(r.jsx)(b.Consumer,{children:function(e){e.scheduled;var t=e.addScheduledTime;e.removeScheduledTime;return Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"save-btn",children:Object(r.jsx)(x.a,{type:"primary",className:"save-btn",onClick:function(){p.b.success("Saved task planning!"),t(c)},children:"Save Planning"})}),Object(r.jsx)("div",{children:Object.keys(u).map((function(e){return Object(r.jsxs)("div",{className:"planner-container",children:[Object(r.jsxs)("div",{className:"category-name",onClick:function(){return h(Object(f.a)(Object(f.a)({},j),{},Object(m.a)({},e,!j[e])))},children:[Object(r.jsx)("h3",{children:e}),Object(r.jsx)("div",{children:j[e]?Object(r.jsx)(T.a,{}):Object(r.jsx)(w.a,{})})]}),j[e]&&Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:"schedule-task-container",children:[Object(r.jsx)("span",{children:Object(r.jsx)("strong",{children:"Task"})}),Object(r.jsx)("span",{children:Object(r.jsx)("strong",{children:"Estimated Time (Hours)"})})]}),u[e].map((function(e){return Object(r.jsx)(y,{addTime:O,task:e,inputHours:k(e,Object(d.a)(c))})}))]}),Object(r.jsx)(v.a,{})]})}))})]})}})]}),Object(r.jsxs)("div",{className:"deliverables-container",children:[Object(r.jsx)("h1",{children:"Course deliverables"}),Object(r.jsx)(g.a,{dataSource:[{key:"1",name:"Visualizing Group Matching",grade:"10%",type:"Individual",dueDate:"Jan 20"},{key:"2",name:"World values survey visualization",grade:"30%",type:"Individual",dueDate:"Jan 29"},{key:"3",name:"Project proposal",grade:"10%",type:"Group",dueDate:"Feb 8"},{key:"4",name:"Hello world demo",grade:"15%",type:"Group",dueDate:"Feb 14"}],columns:[{title:"Assignment",dataIndex:"name",key:"name"},{title:"Type",dataIndex:"type",key:"type"},{title:"Grade %",dataIndex:"grade",key:"grade"},{title:"Due date",dataIndex:"dueDate",key:"dueDate"}]})]})]})})};n(457);var S=function(e){var t=e.widthHeightValue,n=void 0===t?600:t,c=e.data,s=10,i=n-0-0-s,d=n-s-0,o=Object(a.useRef)(null);return Object(a.useEffect)((function(){if(c&&o.current){var e=Math.min(i,d)/2,t=h.scaleOrdinal(["#232931","#32505C","#417B7D","#67A890","#A9D198","#FFF5A5"]);h.select(o.current).selectAll("*").remove();var n=h.select(o.current).append("svg").attr("width",i).attr("height",d).append("g").attr("transform","translate("+i/2+","+d/2+")"),r=h.partition().size([2*Math.PI,e]),a=h.hierarchy(c).sum((function(e){return e.value}));r(a);var s=h.arc().startAngle((function(e){return e.x0})).endAngle((function(e){return e.x1})).innerRadius((function(e){return e.y0})).outerRadius((function(e){return e.y1}));console.log(a.descendants()),n.selectAll("g").data(a.descendants()).enter().append("g").attr("class","node").append("path").attr("display",(function(e){return e.depth?null:"none"})).attr("d",s).style("stroke","#fff").style("fill",(function(e){return t((e.children?e:e.parent).data.name)})).on("mouseenter",(function(e,t){var n,r;h.select(this).transition().duration("50").attr("opacity",".85"),console.log(t.data),t.data.children.length>0?(r=t.data.children?h.sum(t.data.children,(function(e){return e.value})):0,n=t.data.name):(r=t.data.value,n=t.parent.data.name),h.selectAll(".center_text_title").text(n).style("font-size","15px").style("font-weight",400),h.selectAll(".center_text").text(r/4+"h").style("font-size","30px").style("font-weight",750)})).on("mouseleave",(function(e,t){h.select(this).transition().duration("50").attr("opacity","1"),h.selectAll(".center_text").text(""),h.selectAll(".center_text_title").text("")})),n.selectAll(".node").append("text").attr("transform",(function(e){return"translate("+s.centroid(e)+")rotate("+function(e){var t=(e.x0+e.x1)/Math.PI*90;return t<120||t>270?t:t+180}(e)+")"})).attr("dx","0").attr("dy",".5em").style("text-anchor","middle").text((function(e){return e.parent?e.data.name:""})),n.selectAll("g").append("text").attr("class","center_text").style("text-anchor","middle").attr("y",20).text(""),n.selectAll("g").append("text").attr("class","center_text_title").style("text-anchor","middle").attr("y",-20).text("")}}),[c,o.current]),Object(r.jsx)("div",{id:"sunBurst",ref:o})},R=function(e){var t=e.data,n=(e.stacked,e.text,100),c=10,s=10,i=10,d=10,u=Object(a.useState)(""),l=Object(o.a)(u,2),j=(l[0],l[1],Object(a.useState)("")),b=Object(o.a)(j,2),O=(b[0],b[1],Object(a.useRef)(null));return Object(a.useEffect)((function(){if(t&&O.current){var e=t.scheduled,r=t.reported;h.select(O.current).selectAll("*").remove();var a=h.select(O.current).append("svg").attr("width",450).attr("height",n).append("g").attr("transform","translate(".concat(c,", 0)")),o=h.scaleLinear().domain([0,h.max([e,r])]).nice().range([0,450-s-c]);console.log(o(o.domain()[1])),console.log("drawing larger bar");a.data([e]).append("rect").attr("class","background-rect").attr("x",o(0)).attr("y",i).attr("height",n-2*d-i).attr("width",(function(e){return o(e)})).style("fill","#232931"),a.selectAll(null).data([r]).enter().append("rect").attr("x",o(0)).attr("y",i).attr("height",n-2*d-i).attr("width",(function(e){return o(e)})).style("fill","#A9D198");console.log(o(r));var u=h.axisBottom(o);console.log(o.ticks().map((function(e){return e/4}))),u.tickFormat((function(e){return e%4==0?e/4:""}));a.append("line").attr("x1",o(e)).attr("x2",o(e)).attr("y1",n-2*d).attr("y2",i).attr("stroke",(function(){return e>r?"red":"green"})).attr("stroke-width",2),a.append("g").attr("transform","translate(".concat(0,", ",n-2*d,")")).call(u)}}),[O.current]),Object(r.jsx)("div",{children:Object(r.jsx)("div",{className:"loadingBar",ref:O})})},N=(n(736),function(){return Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:"Visualizations"}),Object(r.jsx)(b.Consumer,{children:function(e){var t=e.scheduled,n=e.reported,a=(e.getReportedTimesBasedOnTask,e.getCategoryGroupedTaskTimes),c=e.getTaskBasedScheduledAndReported;return Object(r.jsx)(r.Fragment,{children:t.length>0&&n.length>0?Object(r.jsxs)("div",{className:"viz-container",children:[Object(r.jsxs)("div",{className:"pie-container",children:[Object(r.jsx)("h2",{children:"Task Distribution"}),Object(r.jsx)(S,{data:a(),widthHeightValue:400})]}),Object(r.jsxs)("div",{className:"loading-container",children:[Object(r.jsx)("h2",{children:"Time worked (hours)"}),c().map((function(e){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("p",{children:Object(r.jsx)("strong",{children:e.task})}),Object(r.jsx)(R,{data:e}),Object(r.jsx)(v.a,{})]})}))]})]}):Object(r.jsx)("p",{children:"You need to schedule and report work to see charts!"})})}})]})}),A=n(803),D=n(801),I=n(800),P=n(110),F=n(804),M=n(231),z=n(807),H=n(808),q=n(809),B=(n(737),function(e){var t=e.onChange,n=e.question,c=e.score,s=Object(a.useState)(c),i=Object(o.a)(s,2),d=i[0],u=i[1];return Object(r.jsxs)("div",{className:"likert-container",children:[Object(r.jsx)("h3",{children:n}),Object(r.jsxs)("div",{className:"emoji-container",children:[Object(r.jsx)(z.a,{style:{fontSize:"2rem",color:-1===d?"#005ccc":"#000"},onClick:function(){t(-1),u(-1)}}),Object(r.jsx)(H.a,{style:{fontSize:"2rem",color:0===d?"#005ccc":"#000"},onClick:function(){t(0),u(0)}}),Object(r.jsx)(q.a,{style:{fontSize:"2rem",color:1===d?"#005ccc":"#000"},onClick:function(){t(1),u(1)}})]})]})}),E=(n(738),I.a.RangePicker),_=(P.a.SubMenu,function(e){var t=e.onTreeChange,n=e.value;return Object(r.jsx)(F.a,{style:{width:"100%"},onChange:function(e){return t(e)},value:n,children:Object.keys(u).map((function(e){return Object(r.jsx)(M.TreeNode,{value:e,title:e,selectable:!1,children:u[e].map((function(e){return Object(r.jsx)(M.TreeNode,{value:e,title:e})}))})}))})}),G=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(new Date),i=Object(o.a)(s,2),u=i[0],l=i[1],h=Object(a.useState)([]),O=Object(o.a)(h,2),m=O[0],g=O[1],k=Object(a.useState)(0),y=Object(o.a)(k,2),T=y[0],w=y[1],C=Object(a.useContext)(b),S=C.reported,R=C.addReportedTime,N=function(e){l(e.toDate()),c(!0)};Object(a.useEffect)((function(){var e=S.map((function(e,t){return Object(f.a)(Object(f.a)({},e),{},{id:t})}));w(S.length),g(e)}),[S]);var I=function(){R(m),p.b.success("Report was saved!"),g([]),c(!1)},P=function(){c(!1)},F=function(e,t){var n=j()(t);return e.filter((function(e){return null===e.startTime||j()(e.startTime).isSame(n,"day")}))},M=function(e){var t=F(Object(d.a)(m),e.toDate());return t.sort((function(e,t){return e.startTime-t.startTime})),Object(r.jsx)("ul",{className:"events",children:t.map((function(e){return Object(r.jsx)("li",{children:Object(r.jsx)("div",{style:{display:"block",backgroundColor:"green",color:"white",marginBottom:"0.05rem",borderRadius:"5%",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},children:"".concat(j()(e.startTime).format("HH:mm"),": ").concat(e.task)})})}))})};return Object(r.jsxs)("div",{className:"report-component-container",children:[Object(r.jsxs)("div",{className:"calendar-container",children:[Object(r.jsx)("h1",{children:"Time reporting"}),Object(r.jsx)("h3",{children:"Report your worked time here."}),Object(r.jsx)(b.Consumer,{children:function(e){e.reported,e.addReportedTime;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(A.a,{onSelect:N,dateCellRender:M}),Object(r.jsxs)(D.a,{visible:n,onCancel:P,onOk:I,children:[Object(r.jsx)("h2",{children:u.toLocaleDateString()}),F(Object(d.a)(m),u).map((function(e){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(E,{format:"HH:mm",style:{width:"100%"},onChange:function(t,n){return function(e,t,n){var r=m.findIndex((function(t){return t.id===e})),a=Object(f.a)(Object(f.a)({},m[r]),{},{startTime:t,endTime:n}),c=Object(d.a)(m);c[r]=a,g(c)}(e.id,t[0].toDate(),t[1].toDate())},value:[j()(e.startTime),j()(e.endTime)]}),Object(r.jsx)(_,{onTreeChange:function(t){return function(e,t){var n=m.findIndex((function(t){return t.id===e})),r=Object(f.a)(Object(f.a)({},m[n]),{},{task:t}),a=Object(d.a)(m);a[n]=r,g(a)}(e.id,t)},value:e.task}),Object(r.jsx)(v.a,{}),Object(r.jsx)(B,{question:"How did it go?",onChange:function(t){return function(e,t){var n=m.findIndex((function(t){return t.id===e})),r=Object(f.a)(Object(f.a)({},m[n]),{},{score:t}),a=Object(d.a)(m);a[n]=r,g(a)}(e.id,t)},score:e.score}),Object(r.jsx)(v.a,{})]})})),Object(r.jsx)(x.a,{onClick:function(){return e=u,g([].concat(Object(d.a)(m),[{id:T+1,startTime:e,endTime:e}])),void w(T+1);var e},children:"Add task"})]})]})}})]}),Object(r.jsx)(v.a,{type:"vertical",className:"vert-divider"}),Object(r.jsxs)("div",{className:"report-info",children:[Object(r.jsx)("h1",{children:"How to use:"}),Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:"Click on a date in the calendar"}),Object(r.jsx)("li",{children:"Report what times you worked on different learning tasks"}),Object(r.jsx)("li",{children:'Click "Ok" to save your report'})]})]})]})},V=n(128),J=n(42);var L=function(){return Object(r.jsx)(V.a,{basename:"/",children:Object(r.jsx)(O,{children:Object(r.jsx)("div",{className:"App",children:Object(r.jsxs)("div",{className:"app-container",children:[Object(r.jsxs)("div",{className:"sidebar",children:[Object(r.jsx)("h1",{children:"Time reporter"}),Object(r.jsxs)(P.a,{mode:"inline",defaultSelectedKeys:["1"],children:[Object(r.jsx)(P.a.Item,{children:Object(r.jsx)(V.b,{to:"/schedule",children:"Plan work"})},"1"),Object(r.jsx)(P.a.Item,{children:Object(r.jsx)(V.b,{to:"/report",children:"Report time worked"})},"2"),Object(r.jsx)(P.a.Item,{children:Object(r.jsx)(V.b,{to:"/viz",children:"Visualizations"})},"3")]})]}),Object(r.jsx)("div",{className:"main-content",children:Object(r.jsxs)(J.c,{children:[Object(r.jsx)(J.a,{path:"/schedule",children:Object(r.jsx)(C,{})}),Object(r.jsx)(J.a,{path:"/viz",children:Object(r.jsx)(N,{})}),Object(r.jsx)(J.a,{path:"/report",children:Object(r.jsx)(G,{})}),Object(r.jsxs)(J.a,{path:"/",children:[Object(r.jsx)(C,{})," "]})]})})]})})})})},W=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,810)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};i.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(L,{})}),document.getElementById("root")),W()}},[[796,1,2]]]);
//# sourceMappingURL=main.381504dc.chunk.js.map